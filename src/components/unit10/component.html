<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>组件</title>
  <script src="../../../static/js/vue.js"></script>
</head>
<body>
  <div id="my_com">
    <mycomp></mycomp>
    <mycom></mycom>
    <testprops msg="aaa"></testprops>
    <input v-model.lazy="value">
    <testprops2 v-bind:msg="value"></testprops2>
    <todo v-for="item in sites" v-bind:todo="item"></todo>
  </div>
  <script>
    Vue.component('mycomp',{
      template:'<h1>自定义全局组件：mycom</h1>'
    })
/*父组件的数据需要通过 props 把数据传给子组件，子组件需要显式地用 props 选项声明 "prop"：*/
    /* prop 是单向绑定的：当父组件的属性变化时，将传导给子组件，但是不会反过来。*/
    Vue.component('testprops',{
      props: ['msg'],
      template: '<p>获取到msg值：{{msg}}</p>'
    })
    Vue.component('testprops2',{
      props: ['msg'],
      template: '<p>动态获取到msg值：{{msg}}</p>'
    })
    /*将 v-bind 指令将todo传到每一个重复的组件中：*/
    Vue.component('todo',{
      props: ['todo'],
      template: '<li>{{todo.name}}</li>'
    })
    /*在实例选项中注册局部组件，这样组件只能在这个实例中使用*/
    var child={
      template:'<h2>自定义子组件：mycom</h2>'
    }


    new Vue({
      el:'#my_com',
      data: {
        value:'',
        sites:[
          {name:'小明'},
          {name:'小红'},
          {name:'小强'},
          {name:'小花'}
        ]
      },
      components:{
        'mycom': child
      }
    })
  </script>
</body>
</html>
